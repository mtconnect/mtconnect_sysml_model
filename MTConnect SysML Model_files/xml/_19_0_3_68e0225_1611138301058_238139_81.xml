<?xml version="1.0" encoding="UTF-8"?><magicdraw><comment classType="Comment" humanType="Comment" icon="MTConnect SysML Model_files/icon_comment_1642577711.png" id="_19_0_3_68e0225_1611138301058_238139_81"><APPLIED_STEREOTYPES humanName="Applied Stereotype" mode="s,e"><stereotype classType="Stereotype" humanType="Stereotype" icon="MTConnect SysML Model_files/icon_stereotype_1169894049.png" name="Literal Annotation" refid="_18_0_6_8d40284_1529075556359_481044_4712"/></APPLIED_STEREOTYPES><appliedStereotype humanName="Applied Stereotype" mode="s,e"><stereotype classType="Stereotype" humanType="Stereotype" icon="MTConnect SysML Model_files/icon_stereotype_1169894049.png" name="Literal Annotation" refid="_18_0_6_8d40284_1529075556359_481044_4712"><property classType="Property" humanName="Annotation Property" humanType="Property" icon="MTConnect SysML Model_files/icon_property_370812363.png" name="annotationProperty" refid="_18_0_4_8d40284_1446637901611_333092_4293"/><property classType="Property" humanName="Base_ Comment" humanType="Property" icon="MTConnect SysML Model_files/icon_property_370812363.png" name="base_Comment" refid="_18_0_4_8d40284_1446637851399_224264_4289"/><property classType="Property" humanName="Base_ Comment" humanType="Property" icon="MTConnect SysML Model_files/icon_property_370812363.png" name="base_Comment" refid="_18_0_6_8d40284_1529075563218_973152_4714"/><property classType="Property" humanName="Datatype" humanType="Property" icon="MTConnect SysML Model_files/icon_property_370812363.png" name="datatype" refid="_18_0_6_8d40284_1525856815617_605073_4892"/><property classType="Property" humanName="Language" humanType="Property" icon="MTConnect SysML Model_files/icon_property_370812363.png" name="language" refid="_18_0_6_17770441_1521589781350_530230_4650"/></stereotype></appliedStereotype><appliedStereotypeInstance classType="InstanceSpecification" humanName="Applied Stereotype Instance" humanType="Instance Specification" icon="MTConnect SysML Model_files/icon_instancespecification_1004219512.png" name=" : Concept Modeling Profile::Literal Annotation" refid="_19_0_3_68e0225_1611138317334_184870_82"/><body humanName="Body" mode="s,e">Management of Data Set Observations</body><documentation humanName="Documentation" mode="standard">\paragraph{Management of Data Set Observations} \mbox{}
\label{sec:Management of Data Set Observations}

An {{term(Agent)}} **MUST** maintain the current state of the {{term(Data Set)}} as described in {{citetitle(MTCPart1)}} *Section Part 1: Management of Streaming Data Storage*.

One or more {{termplural(key-value pair)}} **MAY** be added, removed, or changed in an {{term(observation)}}. An {{term(Agent)}} **MUST** publish the changes to one or more {{termplural(key-value pair)}} as a single {{term(observation)}}. An {{term(Agent)}} **MUST** indicate the removal of a {{term(key-value pair)}} from a {{term(Data Set)}} using the {{property(removed)}} attribute equal `true`.

When the {{block(DataItem)}} {{property(discrete,DataItem)}} attribute is `false` or is not present, an {{term(Agent)}} in response to a {{term(Sample Request)}} **MUST** only publish the changed {{term(key-value pair)}} since the previous state of the {{term(Data Set)}}.

When the {{block(DataItem)}} {{property(discrete,DataItem)}} attribute is `true`, an {{term(Agent)}}, in response to a {{term(Sample Request)}}, **MUST** report all {{termplural(key-value pair)}} ignoring the state of the {{term(Data Set)}}.

When an {{term(Agent)}} responds to a {{term(Current Request)}}, the {{term(Response Document)}} **MUST** include the full set of {{termplural(key-value pair)}}. If the {{term(Current Request)}} includes an `at` query parameter, the {{term(Agent)}} **MUST** provide the set of {{termplural(key-value pair)}} at the  {{term(sequence number)}}.

When an {{term(observation)}} {{term(reset)}} occurs, the {{term(Data Set)}} **MUST** remove all {{termplural(key-value pair)}} making the set empty. The {{term(observation)}} **MAY** simultaneously populate the {{term(Data Set)}} with new {{termplural(key-value pair)}}. The previous entries **MUST NOT** be included and **MUST NOT** have {{property(removed)}} attribute equal `true`.

When the {{term(observation)}} is `UNAVAILABLE` the {{term(Data Set)}} **MUST** remove all {{termplural(key-value pair)}} making the set empty.</documentation><ownedComment humanName="Owned Comment"><comment classType="Comment" humanType="Comment" icon="MTConnect SysML Model_files/icon_comment_1985009646.png" refid="_19_0_3_68e0225_1611138384642_629340_83"/></ownedComment><ownedElement humanName="Owned Element"><comment classType="Comment" humanType="Comment" icon="MTConnect SysML Model_files/icon_comment_1985009646.png" refid="_19_0_3_68e0225_1611138384642_629340_83"/><instancespecification classType="InstanceSpecification" humanType="Instance Specification" icon="MTConnect SysML Model_files/icon_instancespecification_1004219512.png" name=" : Concept Modeling Profile::Literal Annotation" refid="_19_0_3_68e0225_1611138317334_184870_82"/></ownedElement><owner classType="Class" humanName="Owner" humanType="Block" icon="MTConnect SysML Model_files/icon_block_1400898224.png" mode="s,e" name="DataSet" refid="_19_0_3_45f01b9_1579566531114_503405_25727"/><owningElement classType="Class" humanName="Owning Element" humanType="Block" icon="MTConnect SysML Model_files/icon_block_1400898224.png" name="DataSet" refid="_19_0_3_45f01b9_1579566531114_503405_25727"/><TO_DO humanName="To Do" mode="s,e"/></comment></magicdraw>